require("microlua.dssetup")
require("microlua.setup")
require("love2d.setup")
require("microlua.patches")

require("nsmm")

-- pswitchimage = image.new("\16\0\0\0\16\0\0\0\0\0\0\0 \0\0\0\16\0\1\0\0\0\0\0\0\0\0\0\0\0t\132t\132t\132t\132t\132t\132\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0t\132t\132\127\173\127\173\127\173\127\173\127\173\127\173t\132t\132\0\0\0\0\0\0\0\0\0\0t\132\127\173\127\173\255\255\127\173\127\173\127\173\127\173\127\173\127\173\127\173t\132\0\0\0\0\0\0t\132\127\173\255\255\127\173\127\173\127\173\127\173\127\173\127\173\127\173\127\173\127\173\127\173t\132\0\0\0\0t\132\255\255\127\173\127\173u\132u\132u\132u\132u\132\127\173\127\173\127\173\127\173t\132\0\0t\132\127\173\255\255\127\173\127\173u\132u\132u\132u\132u\132u\132\127\173\127\173\127\173\127\173t\132t\132\127\173\255\255\127\173\127\173u\132u\132\127\173\127\173u\132u\132\127\173\127\173\127\173\127\173t\132t\132\127\173\255\255\127\173\127\173u\132u\132u\132u\132u\132u\132\127\173\127\173\127\173\127\173t\132t\132\127\173\127\173\127\173\127\173u\132u\132u\132u\132u\132\127\173\127\173\127\173\127\173\127\173t\132t\132\127\173\127\173\127\173\127\173u\132u\132\127\173\127\173\127\173\127\173\127\173\127\173\127\173\127\173t\132t\132\127\173\127\173\127\173\127\173u\132u\132\127\173\127\173\127\173\127\173\127\173\127\173\127\173\127\173t\132t\132\127\173\127\173\127\173\127\173\127\173\127\173\127\173\127\173\127\173\127\173\127\173\127\173\127\173\127\173t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255t\132t\132\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132t\132")

-- testCanvas = Canvas.new()
-- local red = Color.new(31, 0, 0, 31)
-- local dot = Canvas.newFillRect(0, 0, 50, 50, red)
-- Canvas.add(testCanvas, dot)
-- print("testCanvas and dot created", testCanvas, dot)


-- function on.paint(gc)
--     gc:drawString("hi", 20, 20)

--     screen.print(SCREEN_DOWN, 10, 10, "TEST TEXT", Color.new(31, 31, 31))

--     -- Try draw raw canvas directly
--     Canvas.draw(SCREEN_UP, testCanvas, 0, 0)

--     -- screen.drawFillRect(SCREEN_DOWN, 20, 20, 10, 10, Color.new(31, 0, 0))
--     gc:drawImage(pswitchimage, 100, 100)
-- end

require("microlua.run")